% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/multiple_raters.R
\name{get_jsons}
\alias{get_jsons}
\title{Batch import and preprocess RESQUE JSON files}
\usage{
get_jsons(
  path,
  recursive = TRUE,
  replace_form = NULL,
  get_OpenAlex = FALSE,
  get_BIP = FALSE,
  anonymize_raters = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{path}{Character scalar. Directory containing RESQUE JSON files.}

\item{recursive}{Logical scalar. Should subdirectories be searched
recursively for JSON files? Passed to \code{\link{list.files}}.
Defaults to \code{TRUE}.}

\item{replace_form}{Optional character scalar. Path to a JSON file that
contains a top-level \code{"forms"} element defining packs/scoring
information. If not \code{NULL}, this forms definition replaces the
\code{"forms"} element in each RESQUE JSON before preprocessing.}

\item{get_OpenAlex}{Logical scalar. If \code{TRUE}, the preprocessing step
retrieves/uses OpenAlex-based metadata). Defaults to \code{FALSE}.}

\item{get_BIP}{Logical scalar. If \code{TRUE}, the preprocessing step
retrieves/uses BIP (bibliometric) metadata. Defaults to \code{FALSE}.}

\item{anonymize_raters}{Logical scalar. If \code{TRUE}, external rater
names are replaced with pseudo-identifiers \code{"R1"}, \code{"R2"},
\code{"R3"}, etc., consistently across the imported applicants.
Defaults to \code{FALSE}.}

\item{verbose}{Logical scalar. If \code{TRUE}, progress messages about
file processing and optional form replacement are printed to the console.
Defaults to \code{TRUE}.}
}
\value{
A list of preprocessed applicant objects, one entry per JSON file. Each
element corresponds to the output of \code{\link{preprocess}} applied to
the RESQUE object returned by \code{\link{read_RESQUE}} (with or without
form replacement).
}
\description{
Reads one or more RESQUE JSON files from a directory, optionally replaces
their internal \code{"forms"} (scoring) definition with an external JSON
specification, preprocesses the resulting objects, and returns them as a
list of applicants.
}
\details{
If \code{replace_form} is provided, the function first validates the
replacement forms JSON via \code{\link{test_forms_json_structure}} and then
uses \code{\link{update_forms}} to inject the new \code{"forms"} element
into each RESQUE file before calling \code{\link{read_RESQUE}}. Otherwise,
the RESQUE files are read as-is.

Each applicant object is passed through \code{\link{preprocess}} to compute
derived variables (optionally using OpenAlex and/or BIP metadata). The
function also creates an anonymized pseudo-ID for each applicant based on
their ORCID using \code{digest::digest(algo = "crc32")}.

Optionally, external rater names can be anonymized by replacing them with
identifiers \code{"R1"}, \code{"R2"}, \code{"R3"}, etc., consistently
across all jsons.
}
\examples{
\dontrun{
  # Basic import of all RESQUE JSON files in a folder
  applicants <- get_jsons(
    path      = "raw_data/Study2/calibration_papers",
    recursive = TRUE
  )

  # Import with updated scoring forms and rater anonymization
  applicants <- get_jsons(
    path            = "raw_data/Study2/calibration_papers",
    replace_form    = "includes/v0.8.1forms.json",
    anonymize_raters = TRUE,
    verbose         = TRUE
  )
}

}
\seealso{
\code{\link{test_forms_json_structure}},
\code{\link{update_forms}},
\code{\link{read_RESQUE}},
\code{\link{preprocess}}
}
