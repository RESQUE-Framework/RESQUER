<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Test structure of a "forms" JSON file — test_forms_json_structure • RESQUER</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Test structure of a " forms json file test_forms_json_structure><meta name="description" content="Runs a set of testthat checks to verify that a JSON file containing
form definitions conforms to the expected schema. These json files are used
to replace the metadata of an existing json with exported RESQUE data
(e.g. if the scoring rules have been updated)."><meta property="og:description" content="Runs a set of testthat checks to verify that a JSON file containing
form definitions conforms to the expected schema. These json files are used
to replace the metadata of an existing json with exported RESQUE data
(e.g. if the scoring rules have been updated)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RESQUER</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Radarchart_interpretation.html">How to read the radarcharts of the relative rigor score (RRS)</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Test structure of a "forms" JSON file</h1>
      <small class="dont-index">Source: <a href="https://github.com/RESQUE-Framework/RESQUER/R/test_forms.R" class="external-link"><code>R/test_forms.R</code></a></small>
      <div class="d-none name"><code>test_forms_json_structure.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs a set of <span class="pkg">testthat</span> checks to verify that a JSON file containing
form definitions conforms to the expected schema. These json files are used
to replace the metadata of an existing json with exported RESQUE data
(e.g. if the scoring rules have been updated).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">test_forms_json_structure</span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>Character scalar. Path to the JSON file to be tested.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function is called for its side effect of running
<span class="pkg">testthat</span> expectations. It returns the result of the
<code><a href="https://testthat.r-lib.org/reference/test_that.html" class="external-link">testthat::test_that()</a></code> call (invisibly).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The core checks performed are:</p><ul><li><p>The file contains valid JSON.</p></li>
<li><p>The top-level JSON object contains only a single element named
<code>"forms"</code>.</p></li>
<li><p>The <code>"forms"</code> object contains at least the elements
<code>"meta"</code>, <code>"pub"</code>, and <code>"config"</code>.</p></li>
<li><p>The <code>"pub"</code> element contains non-empty <code>"versions"</code> and
<code>"scoring"</code> elements.</p></li>
<li><p>The top-level <code>"config"</code> element contains a non-empty
<code>"score_categories"</code> element.</p></li>
</ul><p>In addition, the function performs several <strong>additional</strong> schema checks:</p><ul><li><p>The file path exists.</p></li>
<li><p>Core forms (<code>"meta"</code>, <code>"pub"</code>, <code>"data"</code>,
<code>"software"</code>) share a common structure (e.g. must contain
<code>title</code>, <code>versions</code>, <code>date</code>, <code>scoring</code>,
<code>config</code>, <code>elements</code>).</p></li>
<li><p>Every element within <code>elements</code> has at least
<code>"id"</code> and <code>"type"</code> fields.</p></li>
<li><p>Each entry in <code>score_categories</code> contains at least
a <code>"title"</code> field.</p></li>
<li><p><code>forms$config</code> contains meta-entries for
<code>"meta"</code>, <code>"pubs"</code>, <code>"data"</code>, and <code>"software"</code>.</p></li>
</ul><p>These additional checks are intended to catch common schema deviations and
can be reviewed, modified, or removed as needed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="fu">test_forms_json_structure</span><span class="op">(</span><span class="st">"inst/extdata/v0.8.1forms.json"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix D. Schönbrodt, Alp Kaan Aksu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

