<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check URLs in Text for Validity — check_urls • RESQUER</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check URLs in Text for Validity — check_urls"><meta name="description" content='This function searches text for URLs, extracts them, and checks whether they resolve
to valid websites. It handles both broken URLs (connection errors, HTTP errors) and
URLs that technically resolve but lead to "not found" pages.'><meta property="og:description" content='This function searches text for URLs, extracts them, and checks whether they resolve
to valid websites. It handles both broken URLs (connection errors, HTTP errors) and
URLs that technically resolve but lead to "not found" pages.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RESQUER</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Radarchart_interpretation.html">How to read the radarcharts of the relative rigor score (RRS)</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"></ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Check URLs in Text for Validity</h1>
      <small class="dont-index">Source: <a href="https://github.com/RESQUE-Framework/RESQUER/R/check_URLs.R" class="external-link"><code>R/check_URLs.R</code></a></small>
      <div class="d-none name"><code>check_urls.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function searches text for URLs, extracts them, and checks whether they resolve
to valid websites. It handles both broken URLs (connection errors, HTTP errors) and
URLs that technically resolve but lead to "not found" pages.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_urls</span><span class="op">(</span><span class="va">text</span>, tout <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-text">text<a class="anchor" aria-label="anchor" href="#arg-text"></a></dt>
<dd><p>A character string containing potential URLs to be checked.</p></dd>


<dt id="arg-tout">tout<a class="anchor" aria-label="anchor" href="#arg-tout"></a></dt>
<dd><p>The timeout, defaults to 5 seconds</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with the following columns:</p>
<dl><dt>url</dt>
<dd><p>The extracted URLs from the text.</p></dd>

<dt>valid</dt>
<dd><p>Logical value indicating whether each URL is valid.</p></dd>

<dt>status_code</dt>
<dd><p>HTTP status code returned (if available).</p></dd>

<dt>error</dt>
<dd><p>Error message if the URL is invalid, NA otherwise.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function first extracts all URLs from the input text using regular expressions,
then cleans them by removing trailing punctuation that might have been incorrectly
included during extraction. For each URL, it attempts an HTTP request and checks
both the status code and page content to determine validity.</p>
<p>URLs are considered invalid if:</p><ul><li><p>The connection fails</p></li>
<li><p>They return HTTP error codes (4xx, 5xx)</p></li>
<li><p>They return a 2xx or 3xx status code but the page content suggests a "not found" page</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The function requires the 'httr' and 'stringr' packages and will attempt to
install them if not present.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">text</span> <span class="op">&lt;-</span> <span class="st">"Check our website at https://example.com and https://invalid-url-example.xyz"</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">check_urls</span><span class="op">(</span><span class="va">text</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with multiple URLs, some valid and some invalid</span></span></span>
<span class="r-in"><span><span class="va">text2</span> <span class="op">&lt;-</span> <span class="st">"We deliver open data at https://osf.io/f5zjr/; more material is found at</span></span></span>
<span class="r-in"><span><span class="st">          https://osf.io/f5zjl/ and https://osf.oi/asdf."</span></span></span>
<span class="r-in"><span><span class="va">results2</span> <span class="op">&lt;-</span> <span class="fu">check_urls</span><span class="op">(</span><span class="va">text2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix D. Schönbrodt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

